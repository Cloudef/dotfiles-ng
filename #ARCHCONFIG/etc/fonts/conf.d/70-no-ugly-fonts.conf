<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
   <!-- Reject all bitmap fonts, with the exception of 'terminus' -->
   <selectfont>
      <acceptfont>
         <pattern>
            <patelt name="family"><string>terminus</string></patelt>
         </pattern>
      </acceptfont>
      <rejectfont>
         <pattern>
            <patelt name="scalable"><bool>false</bool></patelt>
         </pattern>
      </rejectfont>
   </selectfont>

   <!-- Set sans-serif as fallback family -->
   <match target="pattern">
      <test qual="all" name="family" compare="not_eq">
         <string>sans-serif</string>
      </test>
      <test qual="all" name="family" compare="not_eq">
         <string>serif</string>
      </test>
      <test qual="all" name="family" compare="not_eq">
         <string>monospace</string>
      </test>
      <edit name="family" mode="append_last">
         <string>sans-serif</string>
      </edit>
   </match>

   <!-- Fallback to use DejaVu Sans && IPAMonaGothic, globally -->
   <match target="pattern">
      <edit name="family" mode="append" target="font" binding="weak">
         <string>DejaVu Sans</string>
         <string>IPAMonaGothic</string>
      </edit>
   </match>

   <!-- Sharper CJK rendering -->
   <match target="font">
      <test target="pattern" name="lang" compare="contains">
         <string>ja</string>
      </test>
      <edit name="embeddedbitmap" mode="assign">
         <bool>true</bool>
      </edit>
   </match>
   <match target="font">
      <test target="pattern" name="lang" compare="contains">
         <string>zh-cn</string>
      </test>
      <rejectfont>
         <pattern>
            <patelt name="lang">
               <string>zh-cn</string>
            </patelt>
            <patelt name="scalable">
               <bool>yes</bool>
            </patelt>
         </pattern>
      </rejectfont>
      <edit name="embeddedbitmap" mode="assign">
         <bool>true</bool>
      </edit>
   </match>
   <match target="font">
      <test target="pattern" name="lang" compare="contains">
         <string>zh-tw</string>
      </test>
      <pattern>
         <patelt name="lang">
            <string>zh-tw</string>
         </patelt>
         <patelt name="scalable">
            <bool>yes</bool>
         </patelt>
      </pattern>
      <edit name="embeddedbitmap" mode="assign">
         <bool>true</bool>
      </edit>
   </match>
   <match target="font">
      <test target="pattern" name="lang" compare="contains">
         <string>ko</string>
      </test>
      <edit name="embeddedbitmap" mode="assign">
         <bool>true</bool>
      </edit>
   </match>
</fontconfig>
